{"ast":null,"code":"var _jsxFileName = \"E:\\\\Nagendra\\\\projects\\\\PrivAI\\\\privai-app\\\\frontend\\\\src\\\\pages\\\\ChatPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Send, Bot, MessageSquare, FileText, Database, RefreshCw, Trash2, Download, Copy } from 'lucide-react';\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '../components/Card';\nimport { Button } from '../components/Button';\nimport { Textarea } from '../components/Textarea';\nimport { Alert } from '../components/Alert';\nimport { ChatMessage } from '../components/ChatMessage';\nimport { useAppState } from '../hooks/useAppState';\nimport { useApi } from '../hooks/useApi';\nimport { generateId, copyToClipboard } from '../utils/helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ChatPage = ({\n  onNavigate\n}) => {\n  _s();\n  const {\n    appState,\n    addChatMessage,\n    clearChatHistory,\n    setError,\n    clearError\n  } = useAppState();\n  const {\n    sendChatMessage,\n    isLoading,\n    error\n  } = useApi();\n  const [query, setQuery] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [appState.chatHistory]);\n\n  // Focus textarea on mount\n  useEffect(() => {\n    var _textareaRef$current;\n    (_textareaRef$current = textareaRef.current) === null || _textareaRef$current === void 0 ? void 0 : _textareaRef$current.focus();\n  }, []);\n  const handleSendMessage = async () => {\n    if (!query.trim() || isLoading) return;\n    const userQuery = query.trim();\n    setQuery('');\n    setIsTyping(true);\n    try {\n      clearError();\n\n      // Add user message to history\n      const userMessage = {\n        id: generateId(),\n        query: userQuery,\n        answer: '',\n        sources: [],\n        timestamp: Date.now(),\n        metadata: {\n          query: userQuery,\n          retrieved_chunks: 0,\n          processing_time: 0,\n          model_used: 'mock',\n          cached: false\n        }\n      };\n      addChatMessage(userMessage);\n\n      // Send to API\n      const response = await sendChatMessage(userQuery);\n      if (response) {\n        // Update the message with the response\n        const updatedMessage = {\n          ...userMessage,\n          answer: response.answer,\n          sources: response.sources,\n          metadata: response.metadata\n        };\n\n        // Remove the temporary message and add the complete one\n        addChatMessage(updatedMessage);\n      } else {\n        setError('Failed to get response. Please try again.');\n      }\n    } catch (err) {\n      setError('Failed to send message. Please try again.');\n    } finally {\n      setIsTyping(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const handleClearHistory = () => {\n    clearChatHistory();\n  };\n  const handleExportHistory = () => {\n    const historyText = appState.chatHistory.map(msg => `Q: ${msg.query}\\nA: ${msg.answer}\\n\\n`).join('');\n    const blob = new Blob([historyText], {\n      type: 'text/plain'\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `privai-chat-history-${new Date().toISOString().split('T')[0]}.txt`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n  const handleCopyAll = async () => {\n    const allText = appState.chatHistory.map(msg => `Q: ${msg.query}\\nA: ${msg.answer}`).join('\\n\\n');\n    await copyToClipboard(allText);\n  };\n  const hasData = appState.uploadedFiles.length > 0 || appState.processedChunks.length > 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900 mb-4\",\n          children: \"PrivAI Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-600 max-w-2xl mx-auto\",\n          children: \"Ask questions about your uploaded documents and get AI-powered answers with source references.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          type: \"error\",\n          onClose: clearError,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this), !hasData && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          type: \"warning\",\n          children: [\"No data available for chat. Please upload files or connect to a database first.\", /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => onNavigate('upload'),\n            variant: \"outline\",\n            size: \"sm\",\n            className: \"ml-4\",\n            children: \"Go to Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-4 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"h-[600px] flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                      className: \"h-5 w-5 text-primary-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Chat with PrivAI\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n                    children: \"Ask questions about your documents\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: handleCopyAll,\n                    variant: \"ghost\",\n                    size: \"sm\",\n                    title: \"Copy all messages\",\n                    children: /*#__PURE__*/_jsxDEV(Copy, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: handleExportHistory,\n                    variant: \"ghost\",\n                    size: \"sm\",\n                    title: \"Export chat history\",\n                    children: /*#__PURE__*/_jsxDEV(Download, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: handleClearHistory,\n                    variant: \"ghost\",\n                    size: \"sm\",\n                    title: \"Clear chat history\",\n                    children: /*#__PURE__*/_jsxDEV(Trash2, {\n                      className: \"h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              className: \"flex-1 overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-full overflow-y-auto space-y-6 pr-2\",\n                children: [appState.chatHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-full flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(Bot, {\n                      className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-lg font-semibold text-gray-900 mb-2\",\n                      children: \"Start a conversation\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-600\",\n                      children: \"Ask questions about your uploaded documents\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 21\n                }, this) : appState.chatHistory.map(message => /*#__PURE__*/_jsxDEV(ChatMessage, {\n                  message: message\n                }, message.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 23\n                }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-shrink-0 w-8 h-8 bg-success-100 rounded-full flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(Bot, {\n                      className: \"h-4 w-4 text-success-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-white border rounded-lg p-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                          className: \"h-4 w-4 text-primary-600 animate-spin\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 256,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-sm text-gray-600\",\n                          children: \"PrivAI is thinking...\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 257,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 255,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: messagesEndRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0 p-6 border-t\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-4\",\n                children: [/*#__PURE__*/_jsxDEV(Textarea, {\n                  ref: textareaRef,\n                  placeholder: \"Ask a question about your documents...\",\n                  value: query,\n                  onChange: e => setQuery(e.target.value),\n                  onKeyPress: handleKeyPress,\n                  disabled: isLoading || !hasData,\n                  className: \"flex-1 min-h-[60px] max-h-[120px] resize-none\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleSendMessage,\n                  disabled: !query.trim() || isLoading || !hasData,\n                  loading: isLoading,\n                  className: \"self-end\",\n                  children: /*#__PURE__*/_jsxDEV(Send, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                className: \"text-lg\",\n                children: \"Data Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    className: \"h-4 w-4 text-gray-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Files\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: appState.uploadedFiles.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Database, {\n                    className: \"h-4 w-4 text-gray-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Chunks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: appState.processedChunks.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                    className: \"h-4 w-4 text-gray-500\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Messages\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: appState.chatHistory.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                className: \"text-lg\",\n                children: \"Quick Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => onNavigate('upload'),\n                variant: \"outline\",\n                className: \"w-full justify-start\",\n                children: [/*#__PURE__*/_jsxDEV(FileText, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this), \"Upload Files\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => onNavigate('ingestion'),\n                variant: \"outline\",\n                className: \"w-full justify-start\",\n                children: [/*#__PURE__*/_jsxDEV(Database, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this), \"Process Data\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleClearHistory,\n                variant: \"outline\",\n                className: \"w-full justify-start\",\n                children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 19\n                }, this), \"Clear History\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n              children: /*#__PURE__*/_jsxDEV(CardTitle, {\n                className: \"text-lg\",\n                children: \"Sample Questions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuery('What is this document about?'),\n                className: \"w-full text-left text-sm text-primary-600 hover:text-primary-700 p-2 rounded hover:bg-primary-50\",\n                children: \"What is this document about?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuery('Summarize the key points'),\n                className: \"w-full text-left text-sm text-primary-600 hover:text-primary-700 p-2 rounded hover:bg-primary-50\",\n                children: \"Summarize the key points\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuery('What are the main topics?'),\n                className: \"w-full text-left text-sm text-primary-600 hover:text-primary-700 p-2 rounded hover:bg-primary-50\",\n                children: \"What are the main topics?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setQuery('Find information about...'),\n                className: \"w-full text-left text-sm text-primary-600 hover:text-primary-700 p-2 rounded hover:bg-primary-50\",\n                children: \"Find information about...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatPage, \"+e1gv21boIrPKiaf1MQZpnVsWDc=\", false, function () {\n  return [useAppState, useApi];\n});\n_c = ChatPage;\nexport default ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Send","Bot","MessageSquare","FileText","Database","RefreshCw","Trash2","Download","Copy","Card","CardHeader","CardTitle","CardDescription","CardContent","Button","Textarea","Alert","ChatMessage","useAppState","useApi","generateId","copyToClipboard","jsxDEV","_jsxDEV","ChatPage","onNavigate","_s","appState","addChatMessage","clearChatHistory","setError","clearError","sendChatMessage","isLoading","error","query","setQuery","isTyping","setIsTyping","messagesEndRef","textareaRef","_messagesEndRef$curre","current","scrollIntoView","behavior","chatHistory","_textareaRef$current","focus","handleSendMessage","trim","userQuery","userMessage","id","answer","sources","timestamp","Date","now","metadata","retrieved_chunks","processing_time","model_used","cached","response","updatedMessage","err","handleKeyPress","e","key","shiftKey","preventDefault","handleClearHistory","handleExportHistory","historyText","map","msg","join","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","toISOString","split","body","appendChild","click","removeChild","revokeObjectURL","handleCopyAll","allText","hasData","uploadedFiles","length","processedChunks","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClose","onClick","variant","size","title","message","ref","placeholder","value","onChange","target","onKeyPress","disabled","loading","_c","$RefreshReg$"],"sources":["E:/Nagendra/projects/PrivAI/privai-app/frontend/src/pages/ChatPage.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { \r\n  Send, \r\n  Bot, \r\n  User, \r\n  MessageSquare, \r\n  FileText, \r\n  Database,\r\n  RefreshCw,\r\n  Trash2,\r\n  Download,\r\n  Copy\r\n} from 'lucide-react';\r\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '../components/Card';\r\nimport { Button } from '../components/Button';\r\nimport { Textarea } from '../components/Textarea';\r\nimport { Alert } from '../components/Alert';\r\nimport { ChatMessage } from '../components/ChatMessage';\r\nimport { useAppState } from '../hooks/useAppState';\r\nimport { useApi } from '../hooks/useApi';\r\nimport { generateId, copyToClipboard } from '../utils/helpers';\r\nimport { ChatMessage as ChatMessageType } from '../types';\r\n\r\ninterface ChatPageProps {\r\n  onNavigate: (page: string) => void;\r\n}\r\n\r\nexport const ChatPage: React.FC<ChatPageProps> = ({ onNavigate }) => {\r\n  const { \r\n    appState, \r\n    addChatMessage, \r\n    clearChatHistory, \r\n    setError, \r\n    clearError \r\n  } = useAppState();\r\n  \r\n  const { sendChatMessage, isLoading, error } = useApi();\r\n  \r\n  const [query, setQuery] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [appState.chatHistory]);\r\n\r\n  // Focus textarea on mount\r\n  useEffect(() => {\r\n    textareaRef.current?.focus();\r\n  }, []);\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!query.trim() || isLoading) return;\r\n\r\n    const userQuery = query.trim();\r\n    setQuery('');\r\n    setIsTyping(true);\r\n\r\n    try {\r\n      clearError();\r\n      \r\n      // Add user message to history\r\n      const userMessage: ChatMessageType = {\r\n        id: generateId(),\r\n        query: userQuery,\r\n        answer: '',\r\n        sources: [],\r\n        timestamp: Date.now(),\r\n        metadata: {\r\n          query: userQuery,\r\n          retrieved_chunks: 0,\r\n          processing_time: 0,\r\n          model_used: 'mock',\r\n          cached: false\r\n        }\r\n      };\r\n      \r\n      addChatMessage(userMessage);\r\n\r\n      // Send to API\r\n      const response = await sendChatMessage(userQuery);\r\n      \r\n      if (response) {\r\n        // Update the message with the response\r\n        const updatedMessage: ChatMessageType = {\r\n          ...userMessage,\r\n          answer: response.answer,\r\n          sources: response.sources,\r\n          metadata: response.metadata\r\n        };\r\n        \r\n        // Remove the temporary message and add the complete one\r\n        addChatMessage(updatedMessage);\r\n      } else {\r\n        setError('Failed to get response. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to send message. Please try again.');\r\n    } finally {\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const handleClearHistory = () => {\r\n    clearChatHistory();\r\n  };\r\n\r\n  const handleExportHistory = () => {\r\n    const historyText = appState.chatHistory\r\n      .map(msg => `Q: ${msg.query}\\nA: ${msg.answer}\\n\\n`)\r\n      .join('');\r\n    \r\n    const blob = new Blob([historyText], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `privai-chat-history-${new Date().toISOString().split('T')[0]}.txt`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const handleCopyAll = async () => {\r\n    const allText = appState.chatHistory\r\n      .map(msg => `Q: ${msg.query}\\nA: ${msg.answer}`)\r\n      .join('\\n\\n');\r\n    \r\n    await copyToClipboard(allText);\r\n  };\r\n\r\n  const hasData = appState.uploadedFiles.length > 0 || appState.processedChunks.length > 0;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\r\n            PrivAI Chat\r\n          </h1>\r\n          <p className=\"text-lg text-gray-600 max-w-2xl mx-auto\">\r\n            Ask questions about your uploaded documents and get AI-powered answers with source references.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Error Alert */}\r\n        {error && (\r\n          <div className=\"mb-6\">\r\n            <Alert type=\"error\" onClose={clearError}>\r\n              {error}\r\n            </Alert>\r\n          </div>\r\n        )}\r\n\r\n        {/* No Data Warning */}\r\n        {!hasData && (\r\n          <div className=\"mb-6\">\r\n            <Alert type=\"warning\">\r\n              No data available for chat. Please upload files or connect to a database first.\r\n              <Button\r\n                onClick={() => onNavigate('upload')}\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                className=\"ml-4\"\r\n              >\r\n                Go to Upload\r\n              </Button>\r\n            </Alert>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\r\n          {/* Chat Interface */}\r\n          <div className=\"lg:col-span-3\">\r\n            <Card className=\"h-[600px] flex flex-col\">\r\n              <CardHeader className=\"flex-shrink-0\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <CardTitle className=\"flex items-center space-x-2\">\r\n                      <MessageSquare className=\"h-5 w-5 text-primary-600\" />\r\n                      <span>Chat with PrivAI</span>\r\n                    </CardTitle>\r\n                    <CardDescription>\r\n                      Ask questions about your documents\r\n                    </CardDescription>\r\n                  </div>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Button\r\n                      onClick={handleCopyAll}\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      title=\"Copy all messages\"\r\n                    >\r\n                      <Copy className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleExportHistory}\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      title=\"Export chat history\"\r\n                    >\r\n                      <Download className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleClearHistory}\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      title=\"Clear chat history\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              \r\n              <CardContent className=\"flex-1 overflow-hidden\">\r\n                {/* Messages */}\r\n                <div className=\"h-full overflow-y-auto space-y-6 pr-2\">\r\n                  {appState.chatHistory.length === 0 ? (\r\n                    <div className=\"h-full flex items-center justify-center\">\r\n                      <div className=\"text-center\">\r\n                        <Bot className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                          Start a conversation\r\n                        </h3>\r\n                        <p className=\"text-gray-600\">\r\n                          Ask questions about your uploaded documents\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    appState.chatHistory.map((message) => (\r\n                      <ChatMessage key={message.id} message={message} />\r\n                    ))\r\n                  )}\r\n                  \r\n                  {/* Typing indicator */}\r\n                  {isTyping && (\r\n                    <div className=\"flex items-start space-x-3\">\r\n                      <div className=\"flex-shrink-0 w-8 h-8 bg-success-100 rounded-full flex items-center justify-center\">\r\n                        <Bot className=\"h-4 w-4 text-success-600\" />\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"bg-white border rounded-lg p-4\">\r\n                          <div className=\"flex items-center space-x-2\">\r\n                            <RefreshCw className=\"h-4 w-4 text-primary-600 animate-spin\" />\r\n                            <span className=\"text-sm text-gray-600\">PrivAI is thinking...</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  <div ref={messagesEndRef} />\r\n                </div>\r\n              </CardContent>\r\n              \r\n              {/* Input Area */}\r\n              <div className=\"flex-shrink-0 p-6 border-t\">\r\n                <div className=\"flex space-x-4\">\r\n                  <Textarea\r\n                    ref={textareaRef}\r\n                    placeholder=\"Ask a question about your documents...\"\r\n                    value={query}\r\n                    onChange={(e) => setQuery(e.target.value)}\r\n                    onKeyPress={handleKeyPress}\r\n                    disabled={isLoading || !hasData}\r\n                    className=\"flex-1 min-h-[60px] max-h-[120px] resize-none\"\r\n                  />\r\n                  <Button\r\n                    onClick={handleSendMessage}\r\n                    disabled={!query.trim() || isLoading || !hasData}\r\n                    loading={isLoading}\r\n                    className=\"self-end\"\r\n                  >\r\n                    <Send className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div className=\"space-y-6\">\r\n            {/* Data Summary */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-lg\">Data Summary</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <FileText className=\"h-4 w-4 text-gray-500\" />\r\n                    <span className=\"text-sm text-gray-600\">Files</span>\r\n                  </div>\r\n                  <span className=\"font-medium\">{appState.uploadedFiles.length}</span>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Database className=\"h-4 w-4 text-gray-500\" />\r\n                    <span className=\"text-sm text-gray-600\">Chunks</span>\r\n                  </div>\r\n                  <span className=\"font-medium\">{appState.processedChunks.length}</span>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <MessageSquare className=\"h-4 w-4 text-gray-500\" />\r\n                    <span className=\"text-sm text-gray-600\">Messages</span>\r\n                  </div>\r\n                  <span className=\"font-medium\">{appState.chatHistory.length}</span>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Quick Actions */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-lg\">Quick Actions</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3\">\r\n                <Button\r\n                  onClick={() => onNavigate('upload')}\r\n                  variant=\"outline\"\r\n                  className=\"w-full justify-start\"\r\n                >\r\n                  <FileText className=\"h-4 w-4 mr-2\" />\r\n                  Upload Files\r\n                </Button>\r\n                \r\n                <Button\r\n                  onClick={() => onNavigate('ingestion')}\r\n                  variant=\"outline\"\r\n                  className=\"w-full justify-start\"\r\n                >\r\n                  <Database className=\"h-4 w-4 mr-2\" />\r\n                  Process Data\r\n                </Button>\r\n                \r\n                <Button\r\n                  onClick={handleClearHistory}\r\n                  variant=\"outline\"\r\n                  className=\"w-full justify-start\"\r\n                >\r\n                  <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                  Clear History\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Sample Questions */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-lg\">Sample Questions</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-2\">\r\n                <button\r\n                  onClick={() => setQuery('What is this document about?')}\r\n                  className=\"w-full text-left text-sm text-primary-600 hover:text-primary-700 p-2 rounded hover:bg-primary-50\"\r\n                >\r\n                  What is this document about?\r\n                </button>\r\n                <button\r\n                  onClick={() => setQuery('Summarize the key points')}\r\n                  className=\"w-full text-left text-sm text-primary-600 hover:text-primary-700 p-2 rounded hover:bg-primary-50\"\r\n                >\r\n                  Summarize the key points\r\n                </button>\r\n                <button\r\n                  onClick={() => setQuery('What are the main topics?')}\r\n                  className=\"w-full text-left text-sm text-primary-600 hover:text-primary-700 p-2 rounded hover:bg-primary-50\"\r\n                >\r\n                  What are the main topics?\r\n                </button>\r\n                <button\r\n                  onClick={() => setQuery('Find information about...')}\r\n                  className=\"w-full text-left text-sm text-primary-600 hover:text-primary-700 p-2 rounded hover:bg-primary-50\"\r\n                >\r\n                  Find information about...\r\n                </button>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}